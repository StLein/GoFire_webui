<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>HUD</title>
	<link rel="stylesheet" type="text/css" class="styles" href="css/style.css">
	<script src="js/vue@2.7.16.min.js"></script>
	<style>
		* {margin: 0;padding: 0;}
		* {font-family: "Microsoft Yahei", Helvetica, Arial, sans-serif;}
		.debug button{margin-top: 1em;}
	</style>
</head>

<body>
<div id="app">
<template v-if="true">
	<div v-if="debug" class="debug" style="position: fixed;padding: 2em;z-index: 99; display: flex;flex-direction: column;align-items: flex-start;">
		<button @click="showHeroSlot" >变身特效</button>
		<button @click="showHeroGlass" >玻璃特效</button>
		<span>
		<button @click="useFakeSkill" >使用G</button>
		<button @click="useFakeAbility" v-if="ability_show">使用F</button>
		<button @click="window.fakePlayer.m_iRole = RoleType.ROLE_BladeHero" >恶魔剑客</button>
		<button @click="useSpace(1)" v-if="iRole == RoleType.ROLE_BladeHero">使用Space</button>
		</span>
		<button @click="window.fakeGlobal.game_mod=window.MOD_ZS">显示ZS记分牌</button>
		<div >
			<button @click="demo_Kills"      style="margin-right:8px;">cso击杀提醒</button>
			<button @click="demo_RoundClear" style="margin-right:8px;">round提醒</button>
			<button @click="demo_Tooltip"    style="margin-right:8px;">tooltip提醒</button>
		</div>
	</div>
    <!-- <div class="hud-anim-overlay" style="transform: perspective(1);">
      <div class="pos-box" >
        <div class="anim-box" ><img class="anim-img" src="./UI/zbs/zbskill.png" alt="hint"></div>
      </div>
    </div> -->
	<hud-anim ref="hud" register-global-as="HUDAnim"></hud-anim>
	<div v-if="Fx_Glass_Show" style="transform: perspective(1vh);height:100vh;width: 100vw;position: fixed;">
		<div>
			<img :src="Fx_Glass_IMG" style="height: 100vh;width: 100vw;">
		</div>
	</div>
	<transition name="hero-drop">
		<div v-if="Hero_Slot_Show" class="Hero_Select_Comp" >
			<div style="width: 200px;height: 480px;margin: auto;">
				<img src="UI/NANO4_ABILITY/Hero_Select_Comp_Bg_01.PNG" >
				<img src="UI/NANO4_ABILITY/Hero_Select_Comp_Bg_02.PNG" style="width: 220px;position: absolute;left: calc(50% - 220px/2);top: 160px;">
				<img src="UI/NANO4_ABILITY/Hero_Slot_Glow_02.PNG" style="width: 300px;position: absolute;left: calc(50% - 150px);top: 240px;">
				<img src="UI/NANO4_ABILITY/Hero_Slot_Bg_01.PNG" style="width: 180px;position: absolute;left: calc(50% - 180px/2);top: 120px;">
				<img :src="Hero_Slot_Photo" style="width: 180px;position: absolute;left: calc(50% - 180px/2);top: 120px;">
				<img :src="Hero_Fx_HeroSelected" style="width: 632px;position: absolute;left: calc(50% - 632px/2);top: -96px;">
				<img :src="Hero_Fx_Exp_LvUp" style="transform: rotate(90deg);height: 200px;position: absolute;left: calc(50% - 211px);top: -180px;">
				<p class="Hero_Select_Text">{{Hero_Select_Name}}</p>
			</div>
		</div>
	</transition>
	<div v-if="iGameMod==window.MOD_ZS" class="top-center" style="transform: perspective(1vh);width: 100%;text-align: center;margin-top: 0.6em;" >
		<zbs-scoreboard style="margin: auto;" :left="teamScore" :right="iScore" :round="teamRounds" left-color="#FFFFFF" right-color="#77BFFF" ></zbs-scoreboard>
	</div>
	<div class="bottom-center" style="transform: perspective(1vh)">
		<!-- <p id="hintText" class="HudHintTextSmall">notice text</p> -->
		<transition name="fade">
			<p v-if="showHintText" class="HudHintTextSmall">{{ hintText }}</p>
		</transition>
	</div>
	<div v-if="bIsAlive" class="bottom-left" style="left: 108px;">
		<!-- 恶魔剑客技能 -->
		<template v-if="skillShow && iRole == RoleType.ROLE_BladeHero">
			<template v-if="ability_show">
				<div  class="skill-container" >
					<img :src="skill_image" class="skill-image"  :style="{ maskImage: 'linear-gradient(to left, black 50%, transparent 50%)', marginLeft:'-34px' }">
				</div>
				<div  class="ability-container">
					<img :src="ability_image" class="skill-image"  :style="{ maskImage: ability_maskImage, marginLeft:ability_marginLeft, marginRight:ability_marginRight }">
					<p class="cooldown-text"  v-if="ability_coolDown" style="left: 50%;" >{{ ability_coolDown }}</p>
				</div>
				<div class="skill-container" style="margin-left:34px">
					<img src='UI/NANO4_ABILITY/Skill/SKILL_GHOSTBLADE_DEFAULT_DASH.PNG' class="skill-image"  :style="{ maskImage: skill_maskImage, marginLeft:skill_marginLeft }">
					<p class="cooldown-text"  v-if="skill_coolDown"  >{{ skill_coolDown }}</p>
				</div>
			</template>
			<template v-else >
				<div class="skill-container" >
					<img :src="skill_image" class="skill-image"  :style="{ maskImage: 'linear-gradient(to right, black 50%, transparent 50%)', marginLeft:'0' }">
				</div>
				<div class="ability-container">
					<img :src="ability_image" class="skill-image" style="visibility: hidden;" :style="{ maskImage: ability_maskImage, marginLeft:ability_marginLeft, marginRight:ability_marginRight }">
					<!-- <div class="skill-image" :style="{ marginRight:ability_marginRight }"></div> -->
				</div>
			</template>
		</template>
		<template v-else>
			<div v-if="ability_show" class="ability-container">
				<img :src="ability_image" class="skill-image"  :style="{ maskImage: ability_maskImage, marginLeft:ability_marginLeft, marginRight:ability_marginRight }">
				<!-- <p class="cooldown-text" >{{ ability_show }}</p> -->
			</div>
			<div v-if="skillShow" class="skill-container" >
				<img :src="skill_image" class="skill-image"  :style="{ maskImage: skill_maskImage, marginLeft:skill_marginLeft }">
				<p class="cooldown-text"  v-if="skill_coolDown"  >{{ skill_coolDown }}</p>
			</div>
		</template>
	</div>
</template>
</div>


</body>

<style>
	.bottom-left {
		left: 0;
		bottom: 0;
		position: absolute;
		transform: perspective(1vh);
	}
	.ability-container {
		position: relative;
		display: inline-block;
		margin-bottom: 56px;
	}
	.skill-container {
		position: relative; /* 冷却倒计时相对于这个容器定位 */
		display: inline-block;
		margin-bottom: 56px;
	}
	.skill-image {
		display: block;
	}
	.cooldown-text {
		position: absolute;
		top: 50%;  /* 垂直居中 */
		/* left: 50%;  */ /* 水平居中 */
		left: calc(50% - 17px);  /* 确保文字居中 */
		transform: translate(-50%, -50%); 
		color: white;
		font-size: 24px;
		/* font-weight: bold; */
		/* text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.7);  */
	}
	</style>
	
<style scoped>
	.fade-enter-active,.fade-leave-active {
		transition: opacity 0.2s;
	}
	.fade-enter,.fade-leave-to {
		opacity: 0;
	}
</style>    
<script src="../js/engine.js"></script>
<script src="../js/client.js"></script>
<script src="js/hud_base.js"></script>
<script src="js/hud.js"></script>
<script src="js/hud_hintdisplay.js"></script>
<script src="js/gameplay.js"></script>
</html>